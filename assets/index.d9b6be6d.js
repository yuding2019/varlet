import{q as k,r as s,y as v,x as z,H as S,o as p,c as C,B as h,k as $,h as E,w as L,i as M,v as B,a as U,n as F,J as I,T,K as b}from"./vendor.ea41cd30.js";import{t as j,g as y,a as A}from"./elements.1c3a8437.js";import{u as N}from"./zIndex.c624737f.js";import{_ as V}from"./elevation.c2941a7c.js";function H(e){return["top","bottom"].includes(e)}const O={show:{type:Boolean,default:!1},alignment:{type:String,default:"top",validator:H},offsetX:{type:[Number,String],default:0},offsetY:{type:[Number,String],default:0},teleport:{type:String,default:"body"},onOpen:{type:Function},onOpened:{type:Function},onClose:{type:Function},onClosed:{type:Function},"onUpdate:show":{type:Function}};const X=k({name:"VarMenu",props:O,setup(e){const t=s(null),l=s(null),i=s(0),r=s(0),{zIndex:c}=N(()=>e.show,1);let a=!1;const w=n=>n==="top"?y(t.value):y(t.value)-l.value.offsetHeight,g=()=>{a=!0},m=()=>{var n;if(a){a=!1;return}!e.show||(n=e["onUpdate:show"])==null||n.call(e,!1)},o=()=>{i.value=w(e.alignment),r.value=A(t.value)};return v(()=>e.alignment,o),v(()=>e.show,async n=>{const{onOpen:u,onClose:d}=e;n&&o(),n?u==null||u():d==null||d()}),z(()=>{o(),document.addEventListener("click",m),window.addEventListener("resize",o)}),S(()=>{document.removeEventListener("click",m),window.removeEventListener("resize",o)}),{zIndex:c,host:t,menu:l,top:i,left:r,toSizeUnit:j,handleClick:g,resize:o}}});function Y(e,t,l,i,r,c){return p(),C("div",{class:"var-menu",ref:"host",onClick:t[1]||(t[1]=(...a)=>e.handleClick&&e.handleClick(...a))},[h(e.$slots,"default"),(p(),$(b,{to:e.teleport},[E(T,{name:"var-menu",onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:L(()=>[M(U("div",{class:"var-menu__menu var-elevation--3",ref:"menu",style:F({top:`calc(${e.top}px + ${e.toSizeUnit(e.offsetY)})`,left:`calc(${e.left}px + ${e.toSizeUnit(e.offsetX)})`,zIndex:e.zIndex}),onClick:t[0]||(t[0]=I(()=>{},["stop"]))},[h(e.$slots,"menu")],4),[[B,e.show]])]),_:3},8,["onAfterEnter","onAfterLeave"])],8,["to"]))],512)}var f=V(X,[["render",Y]]);f.install=function(e){e.component(f.name,f)};export{f as M};
