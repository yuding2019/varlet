var z=Object.defineProperty,R=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var T=(o,n,l)=>n in o?z(o,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[n]=l,b=(o,n)=>{for(var l in n||(n={}))H.call(n,l)&&T(o,l,n[l]);if(U)for(var l of U(n))L.call(n,l)&&T(o,l,n[l]);return o},A=(o,n)=>R(o,M(n));import{p as q,P as W}from"./index.3ac668ed.js";import{B as E}from"./index.0d6951cf.js";import{p as Z,m as G}from"./components.c996eb06.js";import{e as J,f as K,c as Q}from"./shared.2d2ec151.js";import{p as X,u as Y,a as F,_ as x,b as $,c as oo,w as eo}from"./en-US.fc126591.js";import{_ as O}from"./elevation.c2941a7c.js";import{q as no,r as j,y as V,d as v,o as w,k as _,w as s,a as S,B as D,n as ao,l as c,t as i,f as N,A as lo,p as P,z as to,Z as so,c as ro,h as u,F as co}from"./vendor.ea41cd30.js";import{I as io}from"./index.8afb1785.js";import{S as h}from"./index.978366b7.js";import{C as uo}from"./index.043437d0.js";import{A as mo}from"./AppType.44c77136.js";import"./lock.67e58c2a.js";import"./index.510439cf.js";import"./zIndex.c624737f.js";import"./index.931337ba.js";import"./index.2bd4354e.js";import"./elements.1c3a8437.js";function fo(o){return["left","center","right"].includes(o)}const Co=b({show:{type:Boolean,default:!1},title:{type:String},message:{type:String},messageAlign:{type:String,default:"left",validator:fo},confirmButton:{type:Boolean,default:!0},cancelButton:{type:Boolean,default:!0},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonTextColor:{type:String},cancelButtonTextColor:{type:String},confirmButtonColor:{type:String},cancelButtonColor:{type:String},onBeforeClose:{type:Function},onConfirm:{type:Function},onCancel:{type:Function},"onUpdate:show":{type:Function}},Z(q,["overlay","overlayClass","overlayStyle","lockScroll","closeOnClickOverlay","teleport","onOpen","onClose","onOpened","onClosed","onClickOverlay","onRouteChange"]));const po=no({name:"VarDialog",components:{VarPopup:W,VarButton:E},inheritAttrs:!1,props:Co,setup(o){const n=j(!1),l=j(!1),e=()=>{var a;return(a=o["onUpdate:show"])==null?void 0:a.call(o,!1)},C=()=>{var B;const{closeOnClickOverlay:a,onClickOverlay:r,onBeforeClose:d}=o;if(r==null||r(),!!a){if(d!=null){d("close",e);return}(B=o["onUpdate:show"])==null||B.call(o,!1)}},t=()=>{var d;const{onBeforeClose:a,onConfirm:r}=o;if(r==null||r(),a!=null){a("confirm",e);return}(d=o["onUpdate:show"])==null||d.call(o,!1)},m=()=>{var d;const{onBeforeClose:a,onCancel:r}=o;if(r==null||r(),a!=null){a("cancel",e);return}(d=o["onUpdate:show"])==null||d.call(o,!1)};return V(()=>o.show,a=>{n.value=a},{immediate:!0}),V(()=>o.closeOnClickOverlay,a=>{if(o.onBeforeClose!=null){l.value=!1;return}l.value=a},{immediate:!0}),{pack:X,dt:J,popupShow:n,popupCloseOnClickOverlay:l,handleClickOverlay:C,confirm:t,cancel:m}}}),yo={class:"var-dialog__title"},go={class:"var-dialog__actions"};function vo(o,n,l,e,C,t){const m=v("var-button"),a=v("var-popup");return w(),_(a,{class:"var-dialog__popup-radius","var-dialog-cover":"",show:o.popupShow,overlay:o.overlay,"overlay-class":o.overlayClass,"overlay-style":o.overlayStyle,"lock-scroll":o.lockScroll,"close-on-click-overlay":o.popupCloseOnClickOverlay,teleport:o.teleport,onOpen:o.onOpen,onClose:o.onClose,onClosed:o.onClosed,onOpened:o.onOpened,onRouteChange:o.onRouteChange,onClickOverlay:o.handleClickOverlay},{default:s(()=>[S("div",lo({class:"var--box var-dialog"},o.$attrs),[S("div",yo,[D(o.$slots,"title",{},()=>[c(i(o.dt(o.title,o.pack.dialogTitle)),1)])]),S("div",{class:"var-dialog__message",style:ao({textAlign:o.messageAlign})},[D(o.$slots,"default",{},()=>[c(i(o.message),1)])],4),S("div",go,[o.cancelButton?(w(),_(m,{key:0,class:"var-dialog__button var-dialog__cancel-button","var-dialog-cover":"",text:"","text-color":o.cancelButtonTextColor,color:o.cancelButtonColor,onClick:o.cancel},{default:s(()=>[c(i(o.dt(o.cancelButtonText,o.pack.dialogCancelButtonText)),1)]),_:1},8,["text-color","color","onClick"])):N("v-if",!0),o.confirmButton?(w(),_(m,{key:1,class:"var-dialog__button var-dialog__confirm-button","var-dialog-cover":"",text:"","text-color":o.confirmButtonTextColor,color:o.confirmButtonColor,onClick:o.confirm},{default:s(()=>[c(i(o.dt(o.confirmButtonText,o.pack.dialogConfirmButtonText)),1)]),_:1},8,["text-color","color","onClick"])):N("v-if",!0)])],16)]),_:3},8,["show","overlay","overlay-class","overlay-style","lock-scroll","close-on-click-overlay","teleport","onOpen","onClose","onClosed","onOpened","onRouteChange","onClickOverlay"])}var k=O(po,[["render",vo]]);let y;function f(o){return K?new Promise(n=>{f.close();const l=Q(o)?{message:o}:o,e=P(l);e.teleport="body",y=e;const{unmountInstance:C}=G(k,e,{onConfirm:()=>{var t;(t=e.onConfirm)==null||t.call(e),n("confirm")},onCancel:()=>{var t;(t=e.onCancel)==null||t.call(e),n("cancel")},onClose:()=>{var t;(t=e.onClose)==null||t.call(e),n("close")},onClosed:()=>{var t;(t=e.onClosed)==null||t.call(e),C(),y===e&&(y=null)},onRouteChange:()=>{C(),y===e&&(y=null)},"onUpdate:show":t=>{e.show=t}});e.show=!0}):Promise.resolve()}k.install=function(o){o.component(k.name,k)};f.install=function(o){o.component(k.name,k)};f.close=()=>{if(y!=null){const o=y;y=null,to().then(()=>{o.show=!1})}};f.Component=k;var ko={functionCall:"\u51FD\u6570\u8C03\u7528",basicUsage:"\u57FA\u672C\u4F7F\u7528",modifyTitle:"\u4FEE\u6539\u6807\u9898",hideButton:"\u9690\u85CF\u6309\u94AE",handleUserBehavior:"\u5904\u7406\u7528\u6237\u884C\u4E3A",asyncClose:"\u5F02\u6B65\u5173\u95ED",componentCall:"\u7EC4\u4EF6\u8C03\u7528",title:"\u5170\u4EAD\u5E8F",message:"\u5170\u4EAD\u4E34\u5E16 \u884C\u4E66\u5982\u884C\u4E91\u6D41\u6C34",customSlots:"\u81EA\u5B9A\u4E49\u63D2\u69FD",asyncCloseProgress:"\u6B63\u5728\u5F02\u6B65\u5173\u95ED"},Bo={functionCall:"Function Call",basicUsage:"Basic Usage",modifyTitle:"Modify Title",hideButton:"Hide Button",handleUserBehavior:"Handle User Behavior",asyncClose:"Asynchronous closing",componentCall:"Component Call",title:"Beat It",message:"Don't Wanna See No Blood, Don't Be A Macho Man",customSlots:"Custom Slots",asyncCloseProgress:"Asynchronous shutdown in progress"};const{add:I,use:ho,pack:g,packs:qo,merge:Wo}=Y(),wo=o=>{oo(o),ho(o)};F("zh-CN",x);F("en-US",$);I("zh-CN",ko);I("en-US",Bo);const So={name:"DialogExample",components:{VarDialog:f.Component,VarButton:E,VarIcon:io,VarCell:uo,AppType:mo},setup(){const o=P({show:!1,show1:!1,show2:!1,value:""}),n={confirm:()=>h.success("confirm"),cancel:()=>h.error("cancel"),close:()=>h.info("close")},l=()=>f({message:g.value.message}),e=async()=>n[await f(g.value.message)](),C=()=>{f({title:g.value.title,message:g.value.message})},t=()=>{f({message:g.value.message,confirmButton:!1,cancelButton:!1})},m=(r,d)=>{h.loading(g.value.asyncCloseProgress),setTimeout(()=>{n[r](),d()},1e3)},a=()=>{f({message:g.value.message,onBeforeClose:m})};return eo(wo),A(b({pack:g},so(o)),{asyncClose:a,createBasic:l,createAction:e,modifyTitle:C,hideButton:t,onBeforeClose:m,Snackbar:h})}};function bo(o,n,l,e,C,t){const m=v("app-type"),a=v("var-button"),r=v("var-dialog"),d=v("var-icon"),B=v("var-cell");return w(),ro(co,null,[u(m,null,{default:s(()=>[c(i(e.pack.functionCall),1)]),_:1}),u(a,{type:"primary",block:"",onClick:e.createBasic},{default:s(()=>[c(i(e.pack.basicUsage),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:e.modifyTitle},{default:s(()=>[c(i(e.pack.modifyTitle),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:e.hideButton},{default:s(()=>[c(i(e.pack.hideButton),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:e.createAction},{default:s(()=>[c(i(e.pack.handleUserBehavior),1)]),_:1},8,["onClick"]),u(a,{type:"primary",block:"",onClick:e.asyncClose},{default:s(()=>[c(i(e.pack.asyncClose),1)]),_:1},8,["onClick"]),u(m,null,{default:s(()=>[c(i(e.pack.componentCall),1)]),_:1}),u(a,{type:"warning",block:"",onClick:n[0]||(n[0]=p=>o.show=!0)},{default:s(()=>[c(i(e.pack.basicUsage),1)]),_:1}),u(r,{show:o.show,"onUpdate:show":n[1]||(n[1]=p=>o.show=p),title:e.pack.title,message:e.pack.message,onConfirm:n[2]||(n[2]=()=>e.Snackbar.success("confirm")),onCancel:n[3]||(n[3]=()=>e.Snackbar.error("cancel")),onClosed:n[4]||(n[4]=()=>e.Snackbar.info("closed"))},null,8,["show","title","message"]),u(a,{type:"warning",block:"",onClick:n[5]||(n[5]=p=>o.show1=!0)},{default:s(()=>[c(i(e.pack.asyncClose),1)]),_:1}),u(r,{show:o.show1,"onUpdate:show":n[6]||(n[6]=p=>o.show1=p),title:e.pack.title,message:e.pack.message,onBeforeClose:e.onBeforeClose},null,8,["show","title","message","onBeforeClose"]),u(a,{type:"warning",block:"",onClick:n[7]||(n[7]=p=>o.show2=!0)},{default:s(()=>[c(i(e.pack.customSlots),1)]),_:1}),u(r,{show:o.show2,"onUpdate:show":n[8]||(n[8]=p=>o.show2=p)},{title:s(()=>[u(d,{name:"information",color:"#2979ff"})]),default:s(()=>[u(B,null,{default:s(()=>[c(i(e.pack.message),1)]),_:1}),u(B,null,{default:s(()=>[c(i(e.pack.message),1)]),_:1}),u(B,null,{default:s(()=>[c(i(e.pack.message),1)]),_:1})]),_:1},8,["show"])],64)}var Zo=O(So,[["render",bo],["__scopeId","data-v-65185fda"]]);export{Zo as default};
